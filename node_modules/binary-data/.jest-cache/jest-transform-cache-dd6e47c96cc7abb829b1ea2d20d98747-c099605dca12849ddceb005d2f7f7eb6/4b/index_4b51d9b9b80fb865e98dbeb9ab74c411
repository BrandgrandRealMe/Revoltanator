0a559d4a471429b92ad64c02d193d740
'use strict';

const binary = require('index');

describe('createDecodeStream', () => {
  test('should accept buffer as first argument', () => {
    const length = 2;
    const buf = Buffer.allocUnsafe(length);

    const rstream = binary.createDecodeStream(buf);
    expect(rstream.length).toEqual(length);
    expect(rstream.readBuffer(length)).toEqual(buf);
  });

  test('should not accept buffer as first argument', () => {
    expect(binary.createDecodeStream().length).toEqual(0);
    expect(binary.createDecodeStream({}).length).toEqual(0);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImJpbmFyeSIsInJlcXVpcmUiLCJkZXNjcmliZSIsInRlc3QiLCJsZW5ndGgiLCJidWYiLCJCdWZmZXIiLCJhbGxvY1Vuc2FmZSIsInJzdHJlYW0iLCJjcmVhdGVEZWNvZGVTdHJlYW0iLCJleHBlY3QiLCJ0b0VxdWFsIiwicmVhZEJ1ZmZlciJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsTUFBTUEsU0FBU0MsUUFBUSxPQUFSLENBQWY7O0FBRUFDLFNBQVMsb0JBQVQsRUFBK0IsTUFBTTtBQUNuQ0MsT0FBSyx3Q0FBTCxFQUErQyxNQUFNO0FBQ25ELFVBQU1DLFNBQVMsQ0FBZjtBQUNBLFVBQU1DLE1BQU1DLE9BQU9DLFdBQVAsQ0FBbUJILE1BQW5CLENBQVo7O0FBRUEsVUFBTUksVUFBVVIsT0FBT1Msa0JBQVAsQ0FBMEJKLEdBQTFCLENBQWhCO0FBQ0FLLFdBQU9GLFFBQVFKLE1BQWYsRUFBdUJPLE9BQXZCLENBQStCUCxNQUEvQjtBQUNBTSxXQUFPRixRQUFRSSxVQUFSLENBQW1CUixNQUFuQixDQUFQLEVBQW1DTyxPQUFuQyxDQUEyQ04sR0FBM0M7QUFDRCxHQVBEOztBQVNBRixPQUFLLDRDQUFMLEVBQW1ELE1BQU07QUFDdkRPLFdBQU9WLE9BQU9TLGtCQUFQLEdBQTRCTCxNQUFuQyxFQUEyQ08sT0FBM0MsQ0FBbUQsQ0FBbkQ7QUFDQUQsV0FBT1YsT0FBT1Msa0JBQVAsQ0FBMEIsRUFBMUIsRUFBOEJMLE1BQXJDLEVBQTZDTyxPQUE3QyxDQUFxRCxDQUFyRDtBQUNELEdBSEQ7QUFJRCxDQWREIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBiaW5hcnkgPSByZXF1aXJlKCdpbmRleCcpO1xuXG5kZXNjcmliZSgnY3JlYXRlRGVjb2RlU3RyZWFtJywgKCkgPT4ge1xuICB0ZXN0KCdzaG91bGQgYWNjZXB0IGJ1ZmZlciBhcyBmaXJzdCBhcmd1bWVudCcsICgpID0+IHtcbiAgICBjb25zdCBsZW5ndGggPSAyO1xuICAgIGNvbnN0IGJ1ZiA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpO1xuXG4gICAgY29uc3QgcnN0cmVhbSA9IGJpbmFyeS5jcmVhdGVEZWNvZGVTdHJlYW0oYnVmKTtcbiAgICBleHBlY3QocnN0cmVhbS5sZW5ndGgpLnRvRXF1YWwobGVuZ3RoKTtcbiAgICBleHBlY3QocnN0cmVhbS5yZWFkQnVmZmVyKGxlbmd0aCkpLnRvRXF1YWwoYnVmKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIG5vdCBhY2NlcHQgYnVmZmVyIGFzIGZpcnN0IGFyZ3VtZW50JywgKCkgPT4ge1xuICAgIGV4cGVjdChiaW5hcnkuY3JlYXRlRGVjb2RlU3RyZWFtKCkubGVuZ3RoKS50b0VxdWFsKDApO1xuICAgIGV4cGVjdChiaW5hcnkuY3JlYXRlRGVjb2RlU3RyZWFtKHt9KS5sZW5ndGgpLnRvRXF1YWwoMCk7XG4gIH0pO1xufSk7XG4iXX0=