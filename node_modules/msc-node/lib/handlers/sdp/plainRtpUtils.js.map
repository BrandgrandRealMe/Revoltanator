{"version":3,"file":"plainRtpUtils.js","sourceRoot":"","sources":["../../../src/handlers/sdp/plainRtpUtils.ts"],"names":[],"mappings":";;;AAEA,SAAgB,yBAAyB,CACxC,EACC,SAAS,EACT,IAAI,EAKJ;IAQD,MAAM,WAAW,GAAG,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE,CAAC;SACzC,IAAI,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;IAEpC,IAAI,CAAC,WAAW;QACf,MAAM,IAAI,KAAK,CAAC,KAAK,IAAI,oBAAoB,CAAC,CAAC;IAEhD,MAAM,gBAAgB,GAAG,WAAW,CAAC,UAAU,IAAI,SAAS,CAAC,UAAU,CAAC;IAExE,OAAO;QACN,EAAE,EAAU,gBAAgB,CAAC,EAAE;QAC/B,SAAS,EAAG,gBAAgB,CAAC,OAAO;QACpC,IAAI,EAAQ,WAAW,CAAC,IAAI;KAC5B,CAAC;AACH,CAAC;AA7BD,8DA6BC;AAED,SAAgB,eAAe,CAC9B,EACC,SAAS,EACT,IAAI,EAKJ;IAGD,MAAM,WAAW,GAAG,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE,CAAC;SACzC,IAAI,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;IAEpC,IAAI,CAAC,WAAW;QACf,MAAM,IAAI,KAAK,CAAC,KAAK,IAAI,oBAAoB,CAAC,CAAC;IAEhD,MAAM,aAAa,GAAG,CAAC,WAAW,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACnD,MAAM,IAAI,GAAG,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;IAErD,IAAI,IAAI;QACP,OAAO,CAAE,EAAE,IAAI,EAAE,CAAE,CAAC;;QAEpB,OAAO,EAAE,CAAC;AACZ,CAAC;AAxBD,0CAwBC","sourcesContent":["import { MediaKind, RtpEncodingParameters } from '../../RtpParameters';\n\nexport function extractPlainRtpParameters(\n\t{\n\t\tsdpObject,\n\t\tkind\n\t}:\n\t{\n\t\tsdpObject: any;\n\t\tkind: MediaKind;\n\t}\n):\n{\n\tip: string;\n\tipVersion: 4 | 6;\n\tport: number;\n}\n{\n\tconst mediaObject = (sdpObject.media || [])\n\t\t.find((m: any) => m.type === kind);\n\n\tif (!mediaObject)\n\t\tthrow new Error(`m=${kind} section not found`);\n\n\tconst connectionObject = mediaObject.connection || sdpObject.connection;\n\n\treturn {\n\t\tip        : connectionObject.ip,\n\t\tipVersion : connectionObject.version,\n\t\tport      : mediaObject.port\n\t};\n}\n\nexport function getRtpEncodings(\n\t{\n\t\tsdpObject,\n\t\tkind\n\t}:\n\t{\n\t\tsdpObject: any;\n\t\tkind: MediaKind;\n\t}\n): RtpEncodingParameters[]\n{\n\tconst mediaObject = (sdpObject.media || [])\n\t\t.find((m: any) => m.type === kind);\n\n\tif (!mediaObject)\n\t\tthrow new Error(`m=${kind} section not found`);\n\n\tconst ssrcCnameLine = (mediaObject.ssrcs || [])[0];\n\tconst ssrc = ssrcCnameLine ? ssrcCnameLine.id : null;\n\n\tif (ssrc)\n\t\treturn [ { ssrc } ];\n\telse\n\t\treturn [];\n}\n"]}